---
import astroLogo from '../assets/astro.svg';
import background from '../assets/background.svg';

const skills = [
  { name: 'HTML', percent: 90 },
  { name: 'CSS', percent: 85 },
  { name: 'Bootstrap', percent: 80 },
  { name: 'JavaScript', percent: 75 },
  { name: 'Java', percent: 70 },
  { name: 'Python', percent: 70 },
  { name: 'SQL Server', percent: 80 },
  { name: 'MongoDB', percent: 65 },
  { name: 'MySQL', percent: 75 },
  { name: 'IIS', percent: 60 },
  { name: 'Azure', percent: 60 },
  { name: 'Postman', percent: 70 },
];

const es = {
  greeting: '¡Hola! Soy Didier Alexander Villamil Jimenez',
  role: 'Técnico profesional en soporte de sistemas e informática',
  summary: 'Apasionado por la tecnología, con experiencia en logística inversa, soporte técnico (3.5 años), operador de datacenter, despliegues en Azure y más. Siempre en busca de nuevos retos y aprendizajes.',
  certifications: 'Certificaciones en desarrollo de software',
  experience: 'Experiencia',
  skills: 'Habilidades',
  projects: 'Mis proyectos',
  language: 'Idioma',
  about: 'Sobre mí',
  expList: [
    'Logística inversa (operativa)',
    'Soporte técnico (3.5 años)',
    'Operador de datacenter',
    'Aprobación de despliegues en Azure',
    'Conocimientos en SQL Server, MongoDB, MySQL, IIS, pool de aplicaciones, Postman',
  ],
};
const en = {
  greeting: "Hi! I'm Didier Alexander Villamil Jimenez",
  role: 'Professional technician in systems support and IT',
  summary: 'Passionate about technology, with experience in reverse logistics, technical support (3.5 years), datacenter operator, Azure deployments, and more. Always seeking new challenges and learning opportunities.',
  certifications: 'Software development certifications',
  experience: 'Experience',
  skills: 'Skills',
  projects: 'My projects',
  language: 'Language',
  about: 'About me',
  expList: [
    'Reverse logistics (operations)',
    'Technical support (3.5 years)',
    'Datacenter operator',
    'Azure deployment approvals',
    'Knowledge in SQL Server, MongoDB, MySQL, IIS, application pools, Postman',
  ],
};

let lang = 'es';
let t = es;
if (typeof window !== 'undefined') {
  lang = localStorage.getItem('lang') || 'es';
  t = lang === 'es' ? es : en;
}
function switchLang() {
  lang = lang === 'es' ? 'en' : 'es';
  localStorage.setItem('lang', lang);
  location.reload();
}
---
<div id="container">
  <img id="background" src={background.src} alt="" fetchpriority="high" />
  <header id="header">
    <img src={astroLogo.src} width="60" height="30" alt="Logo" />
    <button id="lang-btn" onclick="{switchLang()}">{lang === 'es' ? 'EN' : 'ES'}</button>
  </header>
  <main>
    <section id="profile" class="box special-profile">
      <h1>{t.greeting}</h1>
      <h2>{t.role}</h2>
      <p>{t.summary}</p>
      <p><b>{t.certifications}</b></p>
      <div class="avatar-glow">
        <svg width="100" height="100" viewBox="0 0 100 100">
          <defs>
            <radialGradient id="glow" cx="50%" cy="50%" r="50%">
              <stop offset="0%" stop-color="#bc52ee" stop-opacity="0.8"/>
              <stop offset="100%" stop-color="#3245ff" stop-opacity="0.2"/>
            </radialGradient>
          </defs>
          <circle cx="50" cy="50" r="40" fill="url(#glow)" />
          <text x="50%" y="54%" text-anchor="middle" fill="#fff" font-size="22" font-family="Orbitron, Inter, sans-serif" dy=".3em">DA</text>
        </svg>
      </div>
    </section>
    <section id="exp" class="box">
      <h2>{t.experience}</h2>
      <ul>
        {t.expList.map(item => <li>{item}</li>)}
      </ul>
    </section>
    <section id="skills" class="box">
      <h2>{t.skills}</h2>
      <div class="skills-list">
        {skills.map(skill => (
          <div class="skill-bar">
            <span>{skill.name}</span>
            <div class="bar-bg">
              <div class="bar-fill" style={`width: ${skill.percent}%`}></div>
            </div>
            <span class="percent">{skill.percent}%</span>
          </div>
        ))}
      </div>
    </section>
    <a class="button main-btn" href="#">{t.projects}</a>
  </main>
</div>

<style>
#background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: -1;
  filter: blur(80px) brightness(0.7);
}
#container {
  font-family: 'Orbitron', 'Inter', 'Roboto', Arial, sans-serif;
  min-height: 100vh;
  color: #fff;
  background: rgba(20, 20, 30, 0.7);
}
#header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1.5rem 2rem 0.5rem 2rem;
}
#lang-btn {
  background: linear-gradient(90deg, #3245ff 0%, #bc52ee 100%);
  color: #fff;
  border: none;
  border-radius: 8px;
  padding: 0.5rem 1rem;
  font-size: 1rem;
  cursor: pointer;
  font-family: inherit;
  box-shadow: 0 2px 8px #0005;
  transition: background 0.2s;
}
#lang-btn:hover {
  background: linear-gradient(90deg, #bc52ee 0%, #3245ff 100%);
}
main {
  max-width: 900px;
  margin: 2rem auto;
  display: flex;
  flex-direction: column;
  gap: 2rem;
}
.box {
  background: rgba(30, 30, 50, 0.95);
  border-radius: 18px;
  box-shadow: 0 4px 32px #0007;
  padding: 2rem;
  border: 1.5px solid #3245ff44;
}
#profile h1 {
  font-size: 2.2rem;
  font-family: 'Orbitron', 'Inter', sans-serif;
  color: #bc52ee;
  margin-bottom: 0.2em;
}
#profile h2 {
  font-size: 1.2rem;
  color: #fff;
  margin-bottom: 0.5em;
}
#profile p {
  font-size: 1.1rem;
  color: #e0e0e0;
}
#exp ul {
  margin: 0;
  padding-left: 1.2em;
}
#exp li {
  font-size: 1.05rem;
  margin-bottom: 0.3em;
}
#skills .skills-list {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}
.skill-bar {
  display: flex;
  align-items: center;
  gap: 1rem;
}
.bar-bg {
  flex: 1;
  height: 18px;
  background: #23234a;
  border-radius: 10px;
  overflow: hidden;
  margin: 0 0.5rem;
  box-shadow: 0 1px 6px #0004;
}
.bar-fill {
  height: 100%;
  background: linear-gradient(90deg, #3245ff 0%, #bc52ee 100%);
  border-radius: 10px 0 0 10px;
  transition: width 1s cubic-bezier(.4,2,.6,1);
}
.percent {
  min-width: 40px;
  text-align: right;
  color: #bc52ee;
  font-weight: bold;
}
.main-btn {
  display: block;
  margin: 2rem auto 0 auto;
  font-size: 1.2rem;
  padding: 1rem 2.5rem;
  border-radius: 12px;
  background: linear-gradient(90deg, #3245ff 0%, #bc52ee 100%);
  color: #fff;
  text-decoration: none;
  font-family: 'Orbitron', 'Inter', sans-serif;
  box-shadow: 0 2px 12px #0006;
  border: none;
  transition: background 0.2s;
}
.main-btn:hover {
  background: linear-gradient(90deg, #bc52ee 0%, #3245ff 100%);
}
.special-profile {
  position: relative;
  overflow: visible;
  border: 2px solid #bc52ee;
  box-shadow: 0 0 32px #bc52ee55, 0 0 64px #3245ff33;
  text-align: center;
}
.avatar-glow {
  margin: 2rem auto 0 auto;
  width: 110px;
  height: 110px;
  display: flex;
  align-items: center;
  justify-content: center;
  animation: pulse-glow 2.5s infinite alternate;
}
@keyframes pulse-glow {
  0% { filter: drop-shadow(0 0 16px #bc52ee88); }
  100% { filter: drop-shadow(0 0 32px #3245ffcc); }
}
@media (max-width: 600px) {
  main {
    padding: 0 0.5rem;
  }
  .box {
    padding: 1rem;
  }
  #header {
    padding: 1rem 0.5rem 0.5rem 0.5rem;
  }
}
</style>
